#!/bin/sh

set -e

if [ -z "$1" ] || [ ! -f "$1" ]; then
    echo "Usage: $0 <journal_file>" >&2
    exit 1
fi

# For lines starting with '+ SEC/', replace the first field (+) with '~',
# decrement the field count (NF--) to remove the last field (+), then print.
awk '/^\+ SEC\// { $1="~"; NF--; print }' "$1"
